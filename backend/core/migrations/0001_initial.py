# Generated by Django 5.2.3 on 2025-07-06 14:05

import django.contrib.auth.models
import django.contrib.auth.validators
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='BuildBadge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('icon', models.ImageField(upload_to='badge_icons/')),
                ('criteria', models.TextField()),
                ('badge_type', models.CharField(max_length=20)),
                ('is_automatic', models.BooleanField(default=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ContactSubmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Contact person's name", max_length=100)),
                ('email', models.EmailField(help_text="Contact person's email", max_length=254)),
                ('subject', models.CharField(help_text='Subject of the inquiry', max_length=200)),
                ('message', models.TextField(help_text='Contact message content')),
                ('is_reviewed', models.BooleanField(default=False, help_text='Whether admin has reviewed this submission')),
                ('is_responded', models.BooleanField(default=False, help_text='Whether admin has responded to this submission')),
                ('admin_notes', models.TextField(blank=True, help_text='Admin notes about this submission')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='When the submission was received')),
                ('reviewed_at', models.DateTimeField(blank=True, help_text='When admin reviewed this submission', null=True)),
                ('responded_at', models.DateTimeField(blank=True, help_text='When admin responded to this submission', null=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SponsoredContent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('content', models.TextField()),
                ('image_url', models.URLField(blank=True, max_length=500, null=True)),
                ('link_url', models.URLField(max_length=500)),
                ('sponsor_name', models.CharField(max_length=255)),
                ('is_active', models.BooleanField(default=True)),
                ('display_location', models.CharField(help_text="e.g., 'homepage', 'marketplace', 'event_list'", max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Track',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Track name', max_length=200)),
                ('location', models.CharField(help_text='Track location', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Track description')),
                ('track_type', models.CharField(choices=[('drag', 'Drag Strip'), ('road_course', 'Road Course'), ('oval', 'Oval Track'), ('street', 'Street Circuit')], help_text='Type of track', max_length=50)),
                ('surface_type', models.CharField(choices=[('asphalt', 'Asphalt'), ('concrete', 'Concrete'), ('dirt', 'Dirt'), ('mixed', 'Mixed')], help_text='Track surface type', max_length=50)),
                ('length', models.DecimalField(blank=True, decimal_places=2, help_text='Track length in miles', max_digits=6, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether track is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Track',
                'verbose_name_plural': 'Tracks',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('email', models.EmailField(help_text="User's email address", max_length=254, unique=True)),
                ('phone_number', models.CharField(blank=True, help_text="User's phone number", max_length=15, null=True, unique=True)),
                ('phone_verified', models.BooleanField(default=False, help_text='Whether phone number has been verified')),
                ('stripe_connect_account_id', models.CharField(blank=True, help_text='Stripe Connect account ID for marketplace sellers', max_length=255, null=True)),
                ('stripe_customer_id', models.CharField(blank=True, help_text='Stripe customer ID for subscriptions', max_length=255, null=True)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'user',
                'verbose_name_plural': 'users',
                'abstract': False,
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='BuildLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('is_complete', models.BooleanField(default=False)),
                ('start_date', models.DateField()),
                ('completion_date', models.DateField(blank=True, null=True)),
                ('total_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('target_horsepower', models.IntegerField(blank=True, null=True)),
                ('target_quarter_mile', models.DecimalField(blank=True, decimal_places=3, max_digits=6, null=True)),
                ('is_public', models.BooleanField(default=True)),
                ('allow_comments', models.BooleanField(default=True)),
                ('allow_ratings', models.BooleanField(default=True)),
                ('views', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('likes', models.ManyToManyField(blank=True, related_name='liked_builds', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='BuildMilestone',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('category', models.CharField(max_length=50)),
                ('is_complete', models.BooleanField(default=False)),
                ('start_date', models.DateField()),
                ('completion_date', models.DateField(blank=True, null=True)),
                ('cost', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('hours_spent', models.DecimalField(blank=True, decimal_places=1, max_digits=6, null=True)),
                ('horsepower_gain', models.IntegerField(blank=True, null=True)),
                ('torque_gain', models.IntegerField(blank=True, null=True)),
                ('weight_change', models.IntegerField(blank=True, null=True)),
                ('parts_used', models.TextField(blank=True)),
                ('part_numbers', models.TextField(blank=True)),
                ('difficulty_level', models.CharField(blank=True, max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('build_log', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='milestones', to='core.buildlog')),
            ],
            options={
                'ordering': ['start_date'],
            },
        ),
        migrations.CreateModel(
            name='BuildMedia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('media_type', models.CharField(choices=[('photo', 'Photo'), ('video', 'Video'), ('audio', 'Audio'), ('document', 'Document')], max_length=20)),
                ('file', models.FileField(upload_to='build_media/')),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='build_thumbnails/')),
                ('title', models.CharField(blank=True, max_length=200)),
                ('caption', models.TextField(blank=True)),
                ('is_primary', models.BooleanField(default=False)),
                ('file_size', models.IntegerField(blank=True, null=True)),
                ('duration', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('build_log', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='media', to='core.buildlog')),
                ('milestone', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='media', to='core.buildmilestone')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BuildWishlist',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('category', models.CharField(max_length=50)),
                ('brand', models.CharField(blank=True, max_length=100)),
                ('part_number', models.CharField(blank=True, max_length=100)),
                ('estimated_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('priority', models.CharField(default='medium', max_length=20)),
                ('is_public', models.BooleanField(default=True)),
                ('is_acquired', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('build_log', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='wishlist_items', to='core.buildlog')),
            ],
            options={
                'ordering': ['priority', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Callout',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('location_type', models.CharField(choices=[('track', 'Track'), ('street', 'Street')], help_text='Type of racing location', max_length=20)),
                ('street_location', models.CharField(blank=True, help_text='Street location if location_type is street', max_length=200)),
                ('city', models.CharField(blank=True, help_text='City', max_length=100)),
                ('state', models.CharField(blank=True, help_text='State', max_length=50)),
                ('race_type', models.CharField(choices=[('quarter_mile', 'Quarter Mile'), ('eighth_mile', 'Eighth Mile'), ('roll_race', 'Roll Race'), ('dig_race', 'Dig Race')], help_text='Type of race', max_length=50)),
                ('wager_amount', models.DecimalField(decimal_places=2, default=0, help_text='Wager amount', max_digits=8)),
                ('message', models.TextField(blank=True, help_text='Callout message')),
                ('experience_level', models.CharField(choices=[('beginner', 'Beginner'), ('intermediate', 'Intermediate'), ('experienced', 'Experienced'), ('pro', 'Pro')], default='intermediate', help_text='Required experience level', max_length=20)),
                ('min_horsepower', models.IntegerField(blank=True, help_text='Minimum horsepower requirement', null=True)),
                ('max_horsepower', models.IntegerField(blank=True, help_text='Maximum horsepower requirement', null=True)),
                ('tire_requirement', models.CharField(blank=True, help_text='Tire requirements for the race', max_length=200)),
                ('rules', models.TextField(blank=True, help_text='Special rules or conditions for the race')),
                ('is_private', models.BooleanField(default=False, help_text='Whether callout is private (only visible to participants)')),
                ('is_invite_only', models.BooleanField(default=False, help_text='Whether callout requires invitation approval')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('declined', 'Declined'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='pending', help_text='Callout status', max_length=20)),
                ('scheduled_date', models.DateTimeField(blank=True, help_text='Scheduled race date', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('challenged', models.ForeignKey(help_text='User who received the callout', on_delete=django.db.models.deletion.CASCADE, related_name='received_callouts', to=settings.AUTH_USER_MODEL)),
                ('challenger', models.ForeignKey(help_text='User who sent the callout', on_delete=django.db.models.deletion.CASCADE, related_name='sent_callouts', to=settings.AUTH_USER_MODEL)),
                ('winner', models.ForeignKey(blank=True, help_text='Winner of the race', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='won_races', to=settings.AUTH_USER_MODEL)),
                ('track', models.ForeignKey(blank=True, help_text='Track if location_type is track', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='callouts', to='core.track')),
            ],
            options={
                'verbose_name': 'Callout',
                'verbose_name_plural': 'Callouts',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BettingPool',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_amount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('winner_payout', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('platform_fee', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('is_distributed', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('callout', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='betting_pool', to='core.callout')),
            ],
        ),
        migrations.CreateModel(
            name='Bet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, default=0, help_text='Bet amount in dollars', max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('active', 'Active'), ('completed', 'Completed'), ('canceled', 'Canceled')], default='pending', max_length=20)),
                ('payout_amount', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('predicted_winner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='bets_on_me', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='bets', to=settings.AUTH_USER_MODEL)),
                ('callout', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='bets', to='core.callout')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CarListing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Car listing title', max_length=200)),
                ('description', models.TextField(help_text='Car description')),
                ('make', models.CharField(help_text='Car make', max_length=100)),
                ('model', models.CharField(help_text='Car model', max_length=100)),
                ('year', models.IntegerField(help_text='Car year')),
                ('price', models.DecimalField(decimal_places=2, help_text='Car price', max_digits=10)),
                ('mileage', models.IntegerField(help_text='Car mileage')),
                ('condition', models.CharField(choices=[('excellent', 'Excellent'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor')], help_text='Car condition', max_length=20)),
                ('location', models.CharField(help_text='Car location', max_length=200)),
                ('is_negotiable', models.BooleanField(default=True, help_text='Whether price is negotiable')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='car_listings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CarProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Car name', max_length=100)),
                ('make', models.CharField(help_text='Car make', max_length=50)),
                ('model', models.CharField(help_text='Car model', max_length=50)),
                ('year', models.IntegerField(help_text='Car year')),
                ('trim', models.CharField(blank=True, help_text='Car trim', max_length=100)),
                ('color', models.CharField(blank=True, help_text='Car color', max_length=50)),
                ('vin', models.CharField(blank=True, help_text='Vehicle identification number', max_length=17)),
                ('engine_size', models.DecimalField(blank=True, decimal_places=1, help_text='Engine size in liters', max_digits=4, null=True)),
                ('engine_type', models.CharField(blank=True, help_text='Engine type', max_length=50)),
                ('fuel_type', models.CharField(choices=[('gasoline', 'Gasoline'), ('diesel', 'Diesel'), ('electric', 'Electric'), ('hybrid', 'Hybrid')], default='gasoline', help_text='Fuel type', max_length=20)),
                ('horsepower', models.IntegerField(blank=True, help_text='Horsepower', null=True)),
                ('torque', models.IntegerField(blank=True, help_text='Torque', null=True)),
                ('weight', models.IntegerField(blank=True, help_text='Weight in pounds', null=True)),
                ('transmission', models.CharField(blank=True, help_text='Transmission type', max_length=50)),
                ('drivetrain', models.CharField(blank=True, choices=[('fwd', 'Front-Wheel Drive'), ('rwd', 'Rear-Wheel Drive'), ('awd', 'All-Wheel Drive'), ('4wd', 'Four-Wheel Drive')], help_text='Drivetrain type', max_length=20)),
                ('best_quarter_mile', models.DecimalField(blank=True, decimal_places=3, help_text='Best quarter mile time', max_digits=6, null=True)),
                ('best_eighth_mile', models.DecimalField(blank=True, decimal_places=3, help_text='Best eighth mile time', max_digits=6, null=True)),
                ('best_trap_speed', models.DecimalField(blank=True, decimal_places=1, help_text='Best trap speed', max_digits=5, null=True)),
                ('description', models.TextField(blank=True, help_text='Car description')),
                ('is_primary', models.BooleanField(default=False, help_text='Whether this is the primary car')),
                ('is_active', models.BooleanField(default=True, help_text='Whether car profile is active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cars', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-is_primary', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CarModification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('engine', 'Engine'), ('exhaust', 'Exhaust'), ('intake', 'Intake'), ('turbo', 'Turbo/Supercharger'), ('suspension', 'Suspension'), ('wheels', 'Wheels & Tires'), ('brakes', 'Brakes'), ('interior', 'Interior'), ('exterior', 'Exterior'), ('electronics', 'Electronics'), ('other', 'Other')], help_text='Modification category', max_length=20)),
                ('name', models.CharField(help_text='Modification name', max_length=200)),
                ('brand', models.CharField(blank=True, help_text='Brand name', max_length=100)),
                ('part_number', models.CharField(blank=True, help_text='Part number', max_length=100)),
                ('description', models.TextField(blank=True, help_text='Modification description')),
                ('cost', models.DecimalField(blank=True, decimal_places=2, help_text='Modification cost', max_digits=8, null=True)),
                ('installed_date', models.DateField(blank=True, help_text='Installation date', null=True)),
                ('is_installed', models.BooleanField(default=True, help_text='Whether modification is installed')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('car', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='modifications', to='core.carprofile')),
            ],
            options={
                'ordering': ['-installed_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CarImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(help_text='Car image', upload_to='car_images/')),
                ('caption', models.CharField(blank=True, help_text='Image caption', max_length=200)),
                ('is_primary', models.BooleanField(default=False, help_text='Whether this is the primary image')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('car', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='core.carprofile')),
            ],
            options={
                'ordering': ['-is_primary', '-created_at'],
            },
        ),
        migrations.AddField(
            model_name='buildlog',
            name='car',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='build_logs', to='core.carprofile'),
        ),
        migrations.CreateModel(
            name='CarTour',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('tour_type', models.CharField(max_length=20)),
                ('primary_media', models.FileField(upload_to='car_tours/')),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='tour_thumbnails/')),
                ('is_public', models.BooleanField(default=True)),
                ('allow_comments', models.BooleanField(default=True)),
                ('views', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('car', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tours', to='core.carprofile')),
                ('likes', models.ManyToManyField(blank=True, related_name='liked_tours', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BuildComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField()),
                ('comment_type', models.CharField(default='general', max_length=20)),
                ('is_approved', models.BooleanField(default=True)),
                ('is_flagged', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('likes', models.ManyToManyField(blank=True, related_name='liked_build_comments', to=settings.AUTH_USER_MODEL)),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', to='core.buildcomment')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='build_comments', to=settings.AUTH_USER_MODEL)),
                ('build_log', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='core.buildlog')),
                ('milestone', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='core.buildmilestone')),
                ('tour', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='core.cartour')),
            ],
            options={
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='Event',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Event title', max_length=200)),
                ('description', models.TextField(help_text='Event description')),
                ('event_type', models.CharField(choices=[('race', 'Race Event'), ('meet', 'Car Meet'), ('show', 'Car Show'), ('test', 'Test & Tune')], help_text='Type of event', max_length=50)),
                ('start_date', models.DateTimeField(help_text='Event start date and time')),
                ('end_date', models.DateTimeField(help_text='Event end date and time')),
                ('max_participants', models.IntegerField(blank=True, help_text='Maximum number of participants', null=True)),
                ('entry_fee', models.DecimalField(decimal_places=2, default=0, help_text='Entry fee', max_digits=8)),
                ('is_public', models.BooleanField(default=True, help_text='Whether event is public')),
                ('is_active', models.BooleanField(default=True, help_text='Whether event is active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_sponsored', models.BooleanField(default=False, help_text='Whether event is sponsored')),
                ('sponsor_name', models.CharField(blank=True, help_text='Sponsor name', max_length=255, null=True)),
                ('sponsor_logo_url', models.URLField(blank=True, help_text='Sponsor logo URL', max_length=500, null=True)),
                ('sponsor_website_url', models.URLField(blank=True, help_text='Sponsor website URL', max_length=500, null=True)),
                ('organizer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='organized_events', to=settings.AUTH_USER_MODEL)),
                ('track', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='events', to='core.track')),
            ],
            options={
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='HotSpot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Name of the hot spot', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Description of the location')),
                ('address', models.CharField(help_text='Full address', max_length=500)),
                ('city', models.CharField(help_text='City', max_length=100)),
                ('state', models.CharField(help_text='State', max_length=50)),
                ('zip_code', models.CharField(help_text='ZIP code', max_length=20)),
                ('latitude', models.DecimalField(decimal_places=6, help_text='Latitude coordinate', max_digits=9)),
                ('longitude', models.DecimalField(decimal_places=6, help_text='Longitude coordinate', max_digits=9)),
                ('spot_type', models.CharField(choices=[('track', 'Official Track'), ('street_meet', 'Street Meet Point'), ('parking_lot', 'Parking Lot'), ('industrial', 'Industrial Area'), ('other', 'Other')], help_text='Type of racing location', max_length=20)),
                ('rules', models.TextField(blank=True, help_text='Specific rules for this location')),
                ('amenities', models.TextField(blank=True, help_text='Available amenities')),
                ('peak_hours', models.CharField(blank=True, help_text="Typical peak hours (e.g., 'Friday 8PM-12AM')", max_length=100)),
                ('is_verified', models.BooleanField(default=False, help_text='Whether this is a verified official location')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this hot spot is currently active')),
                ('total_races', models.IntegerField(default=0, help_text='Total number of races held here')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_hotspots', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ListingCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Category name', max_length=100)),
                ('description', models.TextField(blank=True, help_text='Category description')),
                ('parent', models.ForeignKey(blank=True, help_text='Parent category', null=True, on_delete=django.db.models.deletion.CASCADE, to='core.listingcategory')),
            ],
            options={
                'verbose_name_plural': 'Listing categories',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='LocationBroadcast',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('location', models.CharField(help_text='Current location', max_length=200)),
                ('latitude', models.DecimalField(decimal_places=6, help_text='Latitude coordinate', max_digits=9)),
                ('longitude', models.DecimalField(decimal_places=6, help_text='Longitude coordinate', max_digits=9)),
                ('message', models.TextField(blank=True, help_text='Optional message')),
                ('is_active', models.BooleanField(default=True, help_text='Whether broadcast is active')),
                ('expires_at', models.DateTimeField(help_text='When broadcast expires')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='location_broadcasts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Marketplace',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Listing title', max_length=200)),
                ('description', models.TextField(help_text='Listing description')),
                ('category', models.CharField(choices=[('car', 'Car'), ('parts', 'Parts'), ('wheels', 'Wheels & Tires'), ('electronics', 'Electronics'), ('tools', 'Tools'), ('other', 'Other')], help_text='Listing category', max_length=50)),
                ('condition', models.CharField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor')], help_text='Item condition', max_length=20)),
                ('price', models.DecimalField(decimal_places=2, help_text='Item price', max_digits=10)),
                ('is_negotiable', models.BooleanField(default=True, help_text='Whether price is negotiable')),
                ('trade_offered', models.BooleanField(default=False, help_text='Whether trade is offered')),
                ('trade_description', models.TextField(blank=True, help_text='Trade description')),
                ('location', models.CharField(help_text='Item location', max_length=200)),
                ('contact_phone', models.CharField(blank=True, help_text='Contact phone', max_length=20)),
                ('contact_email', models.EmailField(blank=True, help_text='Contact email', max_length=254)),
                ('is_active', models.BooleanField(default=True, help_text='Whether listing is active')),
                ('views', models.IntegerField(default=0, help_text='Number of views')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketplace_items', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketplaceImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(help_text='Item image', upload_to='marketplace_images/')),
                ('caption', models.CharField(blank=True, help_text='Image caption', max_length=200)),
                ('is_primary', models.BooleanField(default=False, help_text='Whether this is the primary image')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('marketplace_item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='core.marketplace')),
            ],
            options={
                'ordering': ['-is_primary', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketplaceListing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Listing title', max_length=200)),
                ('description', models.TextField(help_text='Listing description')),
                ('price', models.DecimalField(decimal_places=2, help_text='Item price', max_digits=10)),
                ('condition', models.CharField(choices=[('new', 'New'), ('used', 'Used'), ('refurbished', 'Refurbished')], help_text='Item condition', max_length=20)),
                ('location', models.CharField(help_text='Item location', max_length=200)),
                ('is_negotiable', models.BooleanField(default=True, help_text='Whether price is negotiable')),
                ('is_active', models.BooleanField(default=True, help_text='Whether listing is active')),
                ('is_sold', models.BooleanField(default=False, help_text='Whether item has been sold')),
                ('stripe_product_id', models.CharField(blank=True, help_text='Stripe product ID', max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('category', models.ForeignKey(help_text='Listing category', on_delete=django.db.models.deletion.CASCADE, to='core.listingcategory')),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketplace_listings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ListingImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(help_text='Listing image', upload_to='marketplace_images/')),
                ('caption', models.CharField(blank=True, help_text='Image caption', max_length=200)),
                ('is_primary', models.BooleanField(default=False, help_text='Whether this is the primary image')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('listing', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='core.marketplacelisting')),
            ],
            options={
                'ordering': ['-is_primary', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketplaceOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.IntegerField(default=1, help_text='Order quantity')),
                ('total_amount', models.DecimalField(decimal_places=2, help_text='Total order amount', max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid'), ('shipped', 'Shipped'), ('delivered', 'Delivered'), ('cancelled', 'Cancelled')], default='pending', help_text='Order status', max_length=20)),
                ('shipping_address', models.TextField(blank=True, help_text='Shipping address')),
                ('tracking_number', models.CharField(blank=True, help_text='Tracking number', max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('buyer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='purchases', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='orders', to='core.marketplace')),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sales', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketplaceReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.IntegerField(help_text='Review rating', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('title', models.CharField(help_text='Review title', max_length=200)),
                ('comment', models.TextField(help_text='Review comment')),
                ('is_verified_purchase', models.BooleanField(default=True, help_text='Whether this is a verified purchase')),
                ('helpful_votes', models.IntegerField(default=0, help_text='Number of helpful votes')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('order', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='review', to='core.marketplaceorder')),
                ('reviewer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketplace_reviews', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketplaceTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('stripe_payment_intent_id', models.CharField(help_text='Stripe payment intent ID', max_length=255, unique=True)),
                ('amount', models.DecimalField(decimal_places=2, help_text='Total amount in dollars', max_digits=10)),
                ('seller_amount', models.DecimalField(decimal_places=2, help_text='Amount seller receives', max_digits=10)),
                ('platform_commission', models.DecimalField(decimal_places=2, help_text='Platform commission amount', max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('completed', 'Completed'), ('failed', 'Failed'), ('refunded', 'Refunded')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('buyer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketplace_purchases', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to='core.marketplacelisting')),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketplace_sales', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Message',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(help_text='Message content')),
                ('is_read', models.BooleanField(default=False, help_text='Whether message has been read')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('recipient', models.ForeignKey(blank=True, help_text='User who received the message', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='received_messages', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(blank=True, help_text='User who sent the message', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sent_messages', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Message',
                'verbose_name_plural': 'Messages',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notification_type', models.CharField(choices=[('follow', 'New Follower'), ('friend_request', 'Friend Request'), ('message', 'New Message'), ('like', 'Post Liked'), ('comment', 'Post Commented'), ('callout', 'New Callout'), ('race_result', 'Race Result')], help_text='Type of notification', max_length=20)),
                ('title', models.CharField(help_text='Notification title', max_length=200)),
                ('message', models.TextField(help_text='Notification message')),
                ('is_read', models.BooleanField(default=False, help_text='Whether notification has been read')),
                ('related_object_id', models.IntegerField(blank=True, help_text='ID of related object (post, message, etc.)', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('recipient', models.ForeignKey(blank=True, help_text='User receiving the notification', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(blank=True, help_text='User who triggered the notification', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sent_notifications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Notification',
                'verbose_name_plural': 'Notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='OpenChallenge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Challenge title', max_length=200)),
                ('description', models.TextField(help_text='Challenge description')),
                ('location', models.CharField(help_text='Challenge location', max_length=200)),
                ('race_type', models.CharField(choices=[('quarter_mile', 'Quarter Mile'), ('eighth_mile', 'Eighth Mile'), ('roll_race', 'Roll Race'), ('dig_race', 'Dig Race'), ('other', 'Other')], help_text='Type of race', max_length=50)),
                ('wager_amount', models.DecimalField(decimal_places=2, default=0, help_text='Wager amount', max_digits=8)),
                ('max_respondents', models.IntegerField(blank=True, help_text='Maximum number of respondents', null=True)),
                ('expires_at', models.DateTimeField(help_text='When challenge expires')),
                ('is_active', models.BooleanField(default=True, help_text='Whether challenge is active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('challenger', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='open_challenges_created', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_amount', models.DecimalField(decimal_places=2, help_text='Total order amount', max_digits=10)),
                ('platform_commission', models.DecimalField(decimal_places=2, default=0.0, help_text='Platform commission amount', max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid'), ('shipped', 'Shipped'), ('delivered', 'Delivered'), ('cancelled', 'Cancelled')], default='pending', help_text='Order status', max_length=20)),
                ('stripe_payment_intent_id', models.CharField(blank=True, help_text='Stripe PaymentIntent ID', max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('buyer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='orders', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='OrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.IntegerField(default=1, help_text='Item quantity')),
                ('price', models.DecimalField(decimal_places=2, help_text='Item price at time of purchase', max_digits=10)),
                ('listing', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.marketplacelisting')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='core.order')),
            ],
            options={
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('stripe_payment_intent_id', models.CharField(blank=True, help_text='Stripe payment intent ID', max_length=255, null=True, unique=True)),
                ('amount', models.DecimalField(decimal_places=2, help_text='Amount in dollars', max_digits=10)),
                ('currency', models.CharField(default='usd', max_length=3)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('succeeded', 'Succeeded'), ('failed', 'Failed'), ('canceled', 'Canceled')], default='pending', max_length=20)),
                ('payment_type', models.CharField(choices=[('subscription', 'Subscription'), ('marketplace', 'Marketplace'), ('one_time', 'One Time')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PaymentTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, help_text='Transaction amount', max_digits=10)),
                ('transaction_type', models.CharField(choices=[('deposit', 'Deposit'), ('withdrawal', 'Withdrawal'), ('transfer', 'Transfer'), ('purchase', 'Purchase'), ('refund', 'Refund')], help_text='Type of transaction', max_length=20)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('completed', 'Completed'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], default='pending', help_text='Transaction status', max_length=20)),
                ('payment_method', models.CharField(blank=True, help_text='Payment method used', max_length=50)),
                ('reference', models.CharField(blank=True, help_text='Transaction reference', max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PerformanceData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('test_type', models.CharField(max_length=20)),
                ('test_date', models.DateField()),
                ('track', models.CharField(blank=True, max_length=200)),
                ('weather_conditions', models.CharField(blank=True, max_length=200)),
                ('horsepower', models.IntegerField(blank=True, null=True)),
                ('torque', models.IntegerField(blank=True, null=True)),
                ('rpm_hp_peak', models.IntegerField(blank=True, null=True)),
                ('rpm_torque_peak', models.IntegerField(blank=True, null=True)),
                ('quarter_mile_time', models.DecimalField(blank=True, decimal_places=3, max_digits=6, null=True)),
                ('quarter_mile_speed', models.DecimalField(blank=True, decimal_places=1, max_digits=5, null=True)),
                ('sixty_foot_time', models.DecimalField(blank=True, decimal_places=3, max_digits=4, null=True)),
                ('three_thirty_time', models.DecimalField(blank=True, decimal_places=3, max_digits=5, null=True)),
                ('eighth_mile_time', models.DecimalField(blank=True, decimal_places=3, max_digits=5, null=True)),
                ('eighth_mile_speed', models.DecimalField(blank=True, decimal_places=1, max_digits=5, null=True)),
                ('weight', models.IntegerField(blank=True, null=True)),
                ('fuel_type', models.CharField(blank=True, max_length=50)),
                ('tire_type', models.CharField(blank=True, max_length=100)),
                ('dyno_sheet', models.ImageField(blank=True, null=True, upload_to='dyno_sheets/')),
                ('time_slip', models.ImageField(blank=True, null=True, upload_to='time_slips/')),
                ('video', models.FileField(blank=True, null=True, upload_to='performance_videos/')),
                ('notes', models.TextField(blank=True)),
                ('modifications', models.TextField(blank=True)),
                ('is_verified', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('car', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='performance_data', to='core.carprofile')),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_performance_data', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-test_date'],
            },
        ),
        migrations.CreateModel(
            name='RaceResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('challenger_time', models.DecimalField(blank=True, decimal_places=3, help_text='Challenger race time', max_digits=6, null=True)),
                ('challenged_time', models.DecimalField(blank=True, decimal_places=3, help_text='Challenged race time', max_digits=6, null=True)),
                ('challenger_speed', models.DecimalField(blank=True, decimal_places=2, help_text='Challenger speed (mph)', max_digits=6, null=True)),
                ('challenged_speed', models.DecimalField(blank=True, decimal_places=2, help_text='Challenged speed (mph)', max_digits=6, null=True)),
                ('challenger_reaction', models.DecimalField(blank=True, decimal_places=3, help_text='Challenger reaction time', max_digits=4, null=True)),
                ('challenged_reaction', models.DecimalField(blank=True, decimal_places=3, help_text='Challenged reaction time', max_digits=4, null=True)),
                ('weather_conditions', models.CharField(blank=True, help_text='Weather conditions during race', max_length=100)),
                ('track_conditions', models.CharField(blank=True, help_text='Track conditions during race', max_length=100)),
                ('notes', models.TextField(blank=True, help_text='Additional race notes')),
                ('is_verified', models.BooleanField(default=False, help_text='Whether race result is verified')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('callout', models.OneToOneField(blank=True, help_text='Associated callout', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='race_result', to='core.callout')),
                ('verified_by', models.ForeignKey(blank=True, help_text='User who verified the result', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_races', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Race Result',
                'verbose_name_plural': 'Race Results',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RacingCrew',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Crew name', max_length=200)),
                ('description', models.TextField(help_text='Crew description')),
                ('crew_type', models.CharField(choices=[('drag_racing', 'Drag Racing'), ('street_racing', 'Street Racing'), ('track_racing', 'Track Racing'), ('car_club', 'Car Club'), ('modification', 'Modification Crew'), ('other', 'Other')], default='car_club', help_text='Type of crew', max_length=20)),
                ('location', models.CharField(help_text='Crew location', max_length=200)),
                ('is_public', models.BooleanField(default=True, help_text='Whether crew is public')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('owner', models.ForeignKey(help_text='Crew owner', on_delete=django.db.models.deletion.CASCADE, related_name='owned_crews', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Racing Crew',
                'verbose_name_plural': 'Racing Crews',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Review',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.IntegerField(help_text='Review rating', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('title', models.CharField(help_text='Review title', max_length=200)),
                ('content', models.TextField(help_text='Review content')),
                ('is_verified_purchase', models.BooleanField(default=False, help_text='Whether this is a verified purchase')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('listing', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='core.marketplacelisting')),
                ('reviewer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews_given', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ShippingAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('street', models.CharField(help_text='Street address', max_length=200)),
                ('city', models.CharField(help_text='City', max_length=100)),
                ('state', models.CharField(help_text='State', max_length=50)),
                ('zip_code', models.CharField(help_text='ZIP code', max_length=20)),
                ('country', models.CharField(default='USA', help_text='Country', max_length=100)),
                ('is_default', models.BooleanField(default=False, help_text='Whether this is the default address')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shipping_addresses', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Shipping addresses',
                'ordering': ['-is_default', '-created_at'],
            },
        ),
        migrations.AddField(
            model_name='order',
            name='shipping_address',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.shippingaddress'),
        ),
        migrations.CreateModel(
            name='Subscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('stripe_subscription_id', models.CharField(blank=True, help_text='Stripe subscription ID', max_length=255, null=True, unique=True)),
                ('stripe_customer_id', models.CharField(blank=True, help_text='Stripe customer ID', max_length=255, null=True)),
                ('stripe_price_id', models.CharField(blank=True, help_text='Stripe price ID', max_length=255, null=True)),
                ('status', models.CharField(choices=[('active', 'Active'), ('canceled', 'Canceled'), ('past_due', 'Past Due'), ('unpaid', 'Unpaid'), ('trialing', 'Trialing'), ('incomplete', 'Incomplete'), ('incomplete_expired', 'Incomplete Expired')], default='incomplete', max_length=20)),
                ('current_period_start', models.DateTimeField(blank=True, null=True)),
                ('current_period_end', models.DateTimeField(blank=True, null=True)),
                ('cancel_at_period_end', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subscriptions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='UserPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(help_text='Post content')),
                ('post_type', models.CharField(choices=[('text', 'Text Post'), ('image', 'Image Post'), ('video', 'Video Post'), ('race_result', 'Race Result'), ('car_update', 'Car Update')], default='text', help_text='Type of post', max_length=20)),
                ('image', models.ImageField(blank=True, help_text='Post image', null=True, upload_to='posts/images/')),
                ('video', models.FileField(blank=True, help_text='Post video', null=True, upload_to='posts/videos/')),
                ('likes_count', models.IntegerField(default=0, help_text='Number of likes')),
                ('comments_count', models.IntegerField(default=0, help_text='Number of comments')),
                ('is_public', models.BooleanField(default=True, help_text='Whether post is public')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('author', models.ForeignKey(blank=True, help_text='User who created the post', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='posts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Post',
                'verbose_name_plural': 'User Posts',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PostComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(help_text='Comment content')),
                ('likes_count', models.IntegerField(default=0, help_text='Number of likes')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('author', models.ForeignKey(blank=True, help_text='User who wrote the comment', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to=settings.AUTH_USER_MODEL)),
                ('post', models.ForeignKey(help_text='Post being commented on', on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='core.userpost')),
            ],
            options={
                'verbose_name': 'Post Comment',
                'verbose_name_plural': 'Post Comments',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bio', models.TextField(blank=True, help_text="User's bio or description")),
                ('location', models.CharField(blank=True, help_text="User's location", max_length=200)),
                ('car_make', models.CharField(blank=True, help_text="User's car make", max_length=50)),
                ('car_model', models.CharField(blank=True, help_text="User's car model", max_length=50)),
                ('car_year', models.IntegerField(blank=True, help_text="User's car year", null=True)),
                ('profile_picture', models.ImageField(blank=True, null=True, upload_to='profile_pictures/')),
                ('cover_photo', models.ImageField(blank=True, null=True, upload_to='cover_photos/')),
                ('wins', models.IntegerField(default=0, help_text='Number of races won')),
                ('losses', models.IntegerField(default=0, help_text='Number of races lost')),
                ('total_races', models.IntegerField(default=0, help_text='Total number of races')),
                ('email_verified', models.BooleanField(default=False, help_text='Whether email has been verified')),
                ('email_verification_token', models.UUIDField(blank=True, help_text='Token for email verification', null=True, unique=True)),
                ('email_verification_sent_at', models.DateTimeField(blank=True, help_text='When verification email was sent', null=True)),
                ('email_verification_expires_at', models.DateTimeField(blank=True, help_text='When verification token expires', null=True)),
                ('password_reset_token', models.UUIDField(blank=True, help_text='Token for password reset', null=True, unique=True)),
                ('password_reset_expires_at', models.DateTimeField(blank=True, help_text='When password reset token expires', null=True)),
                ('password_reset_sent_at', models.DateTimeField(blank=True, help_text='When password reset email was sent', null=True)),
                ('otp_enabled', models.BooleanField(default=False, help_text='Whether OTP is enabled for this account')),
                ('otp_secret', models.CharField(blank=True, help_text='TOTP secret key', max_length=32, null=True)),
                ('otp_backup_codes', models.JSONField(blank=True, default=list, help_text='Backup codes for OTP')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='UserWallet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=0.0, help_text='Current balance in dollars', max_digits=10)),
                ('stripe_account_id', models.CharField(blank=True, help_text='Stripe Connect account ID for marketplace sellers', max_length=255, null=True)),
                ('is_onboarded', models.BooleanField(default=False, help_text='Whether user has completed Stripe Connect onboarding')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='wallet', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='WishlistSuggestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('suggestion', models.TextField()),
                ('alternative_part', models.CharField(blank=True, max_length=200)),
                ('price_info', models.CharField(blank=True, max_length=200)),
                ('source', models.CharField(blank=True, max_length=200)),
                ('is_helpful', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='wishlist_suggestions_given', to=settings.AUTH_USER_MODEL)),
                ('wishlist_item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='suggestions', to='core.buildwishlist')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Block',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('reason', models.TextField(blank=True, help_text='Reason for blocking')),
                ('blocked', models.ForeignKey(help_text='User being blocked', on_delete=django.db.models.deletion.CASCADE, related_name='blocked_by', to=settings.AUTH_USER_MODEL)),
                ('blocker', models.ForeignKey(help_text='User who is blocking', on_delete=django.db.models.deletion.CASCADE, related_name='blocking', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Block',
                'verbose_name_plural': 'Blocks',
                'ordering': ['-created_at'],
                'unique_together': {('blocker', 'blocked')},
            },
        ),
        migrations.CreateModel(
            name='BuildBadgeAward',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('awarded_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True)),
                ('awarded_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='badges_awarded', to=settings.AUTH_USER_MODEL)),
                ('badge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='awards', to='core.buildbadge')),
                ('build_log', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='badge_awards', to='core.buildlog')),
            ],
            options={
                'ordering': ['-awarded_at'],
                'unique_together': {('build_log', 'badge')},
            },
        ),
        migrations.CreateModel(
            name='BuildRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('creativity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('execution', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('documentation', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('performance', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('overall', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('comment', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('build_log', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings', to='core.buildlog')),
                ('rater', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='build_ratings_given', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'unique_together': {('build_log', 'rater')},
            },
        ),
        migrations.CreateModel(
            name='EventParticipant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('registration_date', models.DateTimeField(auto_now_add=True, help_text='When user registered')),
                ('is_confirmed', models.BooleanField(default=False, help_text='Whether participation is confirmed')),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participants', to='core.event')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='event_participations', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['registration_date'],
                'unique_together': {('event', 'user')},
            },
        ),
        migrations.CreateModel(
            name='Follow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('follower', models.ForeignKey(help_text='User who is following', on_delete=django.db.models.deletion.CASCADE, related_name='following', to=settings.AUTH_USER_MODEL)),
                ('following', models.ForeignKey(help_text='User being followed', on_delete=django.db.models.deletion.CASCADE, related_name='followers', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Follow',
                'verbose_name_plural': 'Follows',
                'ordering': ['-created_at'],
                'unique_together': {('follower', 'following')},
            },
        ),
        migrations.CreateModel(
            name='Friendship',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('declined', 'Declined')], default='pending', help_text='Status of the friendship', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('receiver', models.ForeignKey(blank=True, help_text='User who received the friend request', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='received_friend_requests', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(blank=True, help_text='User who sent the friend request', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sent_friend_requests', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Friendship',
                'verbose_name_plural': 'Friendships',
                'ordering': ['-created_at'],
                'unique_together': {('sender', 'receiver')},
            },
        ),
        migrations.CreateModel(
            name='ChallengeResponse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField(blank=True, help_text='Response message')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('declined', 'Declined'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='pending', help_text='Response status', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('respondent', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='challenge_responses', to=settings.AUTH_USER_MODEL)),
                ('challenge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='responses', to='core.openchallenge')),
            ],
            options={
                'ordering': ['created_at'],
                'unique_together': {('challenge', 'respondent')},
            },
        ),
        migrations.CreateModel(
            name='OTP',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('otp_type', models.CharField(choices=[('phone', 'Phone'), ('email', 'Email')], help_text='Type of OTP (phone or email)', max_length=10)),
                ('identifier', models.CharField(help_text='Phone number or email address', max_length=255)),
                ('code', models.CharField(help_text='6-digit OTP code', max_length=6)),
                ('is_used', models.BooleanField(default=False, help_text='Whether OTP has been used')),
                ('expires_at', models.DateTimeField(help_text='When OTP expires')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='otps', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['identifier', 'code', 'is_used'], name='core_otp_identif_21718b_idx'), models.Index(fields=['expires_at'], name='core_otp_expires_288351_idx')],
            },
        ),
        migrations.CreateModel(
            name='CrewMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('member', 'Member'), ('officer', 'Officer'), ('leader', 'Leader'), ('founder', 'Founder')], default='member', help_text='Member role', max_length=20)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('declined', 'Declined'), ('active', 'Active'), ('inactive', 'Inactive')], default='pending', help_text='Membership status', max_length=20)),
                ('joined_at', models.DateTimeField(auto_now_add=True, help_text='When member joined')),
                ('member', models.ForeignKey(help_text='Crew member', on_delete=django.db.models.deletion.CASCADE, related_name='crew_memberships', to=settings.AUTH_USER_MODEL)),
                ('crew', models.ForeignKey(help_text='Crew being joined', on_delete=django.db.models.deletion.CASCADE, related_name='memberships', to='core.racingcrew')),
            ],
            options={
                'verbose_name': 'Crew Membership',
                'verbose_name_plural': 'Crew Memberships',
                'ordering': ['joined_at'],
                'unique_together': {('crew', 'member')},
            },
        ),
        migrations.CreateModel(
            name='Rating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.IntegerField(help_text='Rating from 1 to 5', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('comment', models.TextField(blank=True, help_text='Rating comment')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('rater', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings_given', to=settings.AUTH_USER_MODEL)),
                ('seller', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings_received', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'unique_together': {('rater', 'seller')},
            },
        ),
        migrations.CreateModel(
            name='ReputationRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.IntegerField(blank=True, help_text='Rating from 1 to 5', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('comment', models.TextField(blank=True, help_text='Rating comment')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('rated_user', models.ForeignKey(blank=True, help_text='User being rated', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='received_ratings', to=settings.AUTH_USER_MODEL)),
                ('rater', models.ForeignKey(blank=True, help_text='User giving the rating', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='given_ratings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Reputation Rating',
                'verbose_name_plural': 'Reputation Ratings',
                'ordering': ['-created_at'],
                'unique_together': {('rater', 'rated_user')},
            },
        ),
    ]
